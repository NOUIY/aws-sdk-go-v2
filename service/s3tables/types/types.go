// Code generated by smithy-go-codegen DO NOT EDIT.

package types

import (
	smithydocument "github.com/aws/smithy-go/document"
	"time"
)

// Configuration specifying how data should be encrypted. This structure defines
// the encryption algorithm and optional KMS key to be used for server-side
// encryption.
type EncryptionConfiguration struct {

	// The server-side encryption algorithm to use. Valid values are AES256 for
	// S3-managed encryption keys, or aws:kms for Amazon Web Services KMS-managed
	// encryption keys. If you choose SSE-KMS encryption you must grant the S3 Tables
	// maintenance principal access to your KMS key. For more information, see [Permissions requirements for S3 Tables SSE-KMS encryption].
	//
	// [Permissions requirements for S3 Tables SSE-KMS encryption]: https://docs.aws.amazon.com/AmazonS3/latest/userguide/s3-tables-kms-permissions.html
	//
	// This member is required.
	SseAlgorithm SSEAlgorithm

	// The Amazon Resource Name (ARN) of the KMS key to use for encryption. This field
	// is required only when sseAlgorithm is set to aws:kms .
	KmsKeyArn *string

	noSmithyDocumentSerde
}

// Contains details about the compaction settings for an Iceberg table.
type IcebergCompactionSettings struct {

	// The compaction strategy to use for the table. This determines how files are
	// selected and combined during compaction operations.
	Strategy IcebergCompactionStrategy

	// The target file size for the table in MB.
	TargetFileSizeMB *int32

	noSmithyDocumentSerde
}

// Contains details about the metadata for an Iceberg table.
type IcebergMetadata struct {

	// The schema for an Iceberg table.
	//
	// This member is required.
	Schema *IcebergSchema

	// The partition specification for the Iceberg table. Partitioning organizes data
	// into separate files based on the values of one or more fields, which can improve
	// query performance by reducing the amount of data scanned. Each partition field
	// applies a transform (such as identity, year, month, or bucket) to a single
	// field.
	PartitionSpec *IcebergPartitionSpec

	// A map of custom configuration properties for the Iceberg table.
	Properties map[string]string

	// The sort order for the Iceberg table. Sort order defines how data is sorted
	// within data files, which can improve query performance by enabling more
	// efficient data skipping and filtering.
	WriteOrder *IcebergSortOrder

	noSmithyDocumentSerde
}

// Defines a single partition field in an Iceberg partition specification.
type IcebergPartitionField struct {

	// The name for this partition field. This name is used in the partitioned file
	// paths.
	//
	// This member is required.
	Name *string

	// The ID of the source schema field to partition by. This must reference a valid
	// field ID from the table schema.
	//
	// This member is required.
	SourceId *int32

	// The partition transform to apply to the source field. Supported transforms
	// include identity , year , month , day , hour , bucket , and truncate . For more
	// information, see the [Apache Iceberg partition transforms documentation].
	//
	// [Apache Iceberg partition transforms documentation]: https://iceberg.apache.org/spec/#partition-transforms
	//
	// This member is required.
	Transform *string

	// An optional unique identifier for this partition field. If not specified, S3
	// Tables automatically assigns a field ID.
	FieldId *int32

	noSmithyDocumentSerde
}

// Defines how data in an Iceberg table is partitioned. Partitioning helps
// optimize query performance by organizing data into separate files based on field
// values. Each partition field specifies a transform to apply to a source field.
type IcebergPartitionSpec struct {

	// The list of partition fields that define how the table data is partitioned.
	// Each field specifies a source field and a transform to apply. This field is
	// required if partitionSpec is provided.
	//
	// This member is required.
	Fields []IcebergPartitionField

	// The unique identifier for this partition specification. If not specified,
	// defaults to 0 .
	SpecId *int32

	noSmithyDocumentSerde
}

// Contains details about the schema for an Iceberg table.
type IcebergSchema struct {

	// The schema fields for the table
	//
	// This member is required.
	Fields []SchemaField

	noSmithyDocumentSerde
}

// Contains details about the snapshot management settings for an Iceberg table.
// The oldest snapshot expires when its age exceeds the maxSnapshotAgeHours and
// the total number of snapshots exceeds the value for the minimum number of
// snapshots to keep minSnapshotsToKeep .
type IcebergSnapshotManagementSettings struct {

	// The maximum age of a snapshot before it can be expired.
	MaxSnapshotAgeHours *int32

	// The minimum number of snapshots to keep.
	MinSnapshotsToKeep *int32

	noSmithyDocumentSerde
}

// Defines a single sort field in an Iceberg sort order specification.
type IcebergSortField struct {

	// The sort direction. Valid values are asc for ascending order or desc for
	// descending order.
	//
	// This member is required.
	Direction IcebergSortDirection

	// Specifies how null values are ordered. Valid values are nulls-first to place
	// nulls before non-null values, or nulls-last to place nulls after non-null
	// values.
	//
	// This member is required.
	NullOrder IcebergNullOrder

	// The ID of the source schema field to sort by. This must reference a valid field
	// ID from the table schema.
	//
	// This member is required.
	SourceId *int32

	// The transform to apply to the source field before sorting. Use identity to sort
	// by the field value directly, or specify other transforms as needed.
	//
	// This member is required.
	Transform *string

	noSmithyDocumentSerde
}

// Defines the sort order for data within an Iceberg table. Sorting data can
// improve query performance by enabling more efficient data skipping.
type IcebergSortOrder struct {

	// The list of sort fields that define how data is sorted within files. Each field
	// specifies a source field, sort direction, and null ordering. This field is
	// required if writeOrder is provided.
	//
	// This member is required.
	Fields []IcebergSortField

	// The unique identifier for this sort order. If not specified, defaults to 1 . The
	// order ID is used by Apache Iceberg to track sort order evolution.
	//
	// This member is required.
	OrderId *int32

	noSmithyDocumentSerde
}

// Contains details about the unreferenced file removal settings for an Iceberg
// table bucket.
type IcebergUnreferencedFileRemovalSettings struct {

	// The number of days an object has to be non-current before it is deleted.
	NonCurrentDays *int32

	// The number of days an object has to be unreferenced before it is marked as
	// non-current.
	UnreferencedDays *int32

	noSmithyDocumentSerde
}

// Contains information about the most recent successful replication update to a
// destination.
type LastSuccessfulReplicatedUpdate struct {

	// The S3 location of the metadata that was successfully replicated.
	//
	// This member is required.
	MetadataLocation *string

	// The timestamp when the replication update completed successfully.
	//
	// This member is required.
	Timestamp *time.Time

	noSmithyDocumentSerde
}

// Contains information about tables that are managed by S3 Tables, including
// replication information for replica tables.
type ManagedTableInformation struct {

	// If this table is a replica, contains information about the source table from
	// which it is replicated.
	ReplicationInformation *ReplicationInformation

	noSmithyDocumentSerde
}

// Contains details about a namespace.
type NamespaceSummary struct {

	// The date and time the namespace was created at.
	//
	// This member is required.
	CreatedAt *time.Time

	// The ID of the account that created the namespace.
	//
	// This member is required.
	CreatedBy *string

	// The name of the namespace.
	//
	// This member is required.
	Namespace []string

	// The ID of the account that owns the namespace.
	//
	// This member is required.
	OwnerAccountId *string

	// The system-assigned unique identifier for the namespace.
	NamespaceId *string

	// The system-assigned unique identifier for the table bucket that contains this
	// namespace.
	TableBucketId *string

	noSmithyDocumentSerde
}

// Specifies a destination table bucket for replication.
type ReplicationDestination struct {

	// The Amazon Resource Name (ARN) of the destination table bucket where tables
	// will be replicated.
	//
	// This member is required.
	DestinationTableBucketARN *string

	noSmithyDocumentSerde
}

// Contains status information for a replication destination, including the
// current replication state, last successful update, and any error messages.
type ReplicationDestinationStatusModel struct {

	// The Amazon Resource Name (ARN) of the destination table bucket.
	//
	// This member is required.
	DestinationTableBucketArn *string

	// The current status of replication to this destination.
	//
	// This member is required.
	ReplicationStatus ReplicationStatus

	// The Amazon Resource Name (ARN) of the destination table.
	DestinationTableArn *string

	// If replication has failed, this field contains an error message describing the
	// failure reason.
	FailureMessage *string

	// Information about the most recent successful replication update to this
	// destination.
	LastSuccessfulReplicatedUpdate *LastSuccessfulReplicatedUpdate

	noSmithyDocumentSerde
}

// Contains information about the source of a replicated table.
type ReplicationInformation struct {

	// The Amazon Resource Name (ARN) of the source table from which this table is
	// replicated.
	//
	// This member is required.
	SourceTableARN *string

	noSmithyDocumentSerde
}

// Contains details about a schema field.
type SchemaField struct {

	// The name of the field.
	//
	// This member is required.
	Name *string

	// The field type. S3 Tables supports all Apache Iceberg primitive types. For more
	// information, see the [Apache Iceberg documentation].
	//
	// [Apache Iceberg documentation]: https://iceberg.apache.org/spec/#primitive-types
	//
	// This member is required.
	Type *string

	// An optional unique identifier for the schema field. Field IDs are used by
	// Apache Iceberg to track schema evolution and maintain compatibility across
	// schema changes. If not specified, S3 Tables automatically assigns field IDs.
	Id *int32

	// A Boolean value that specifies whether values are required for each row in this
	// field. By default, this is false and null values are allowed in the field. If
	// this is true the field does not allow null values.
	Required bool

	noSmithyDocumentSerde
}

// The configuration details for the storage class of tables or table buckets.
// This allows you to optimize storage costs by selecting the appropriate storage
// class based on your access patterns and performance requirements.
type StorageClassConfiguration struct {

	// The storage class for the table or table bucket. Valid values include storage
	// classes optimized for different access patterns and cost profiles.
	//
	// This member is required.
	StorageClass StorageClass

	noSmithyDocumentSerde
}

// Details about the values that define the maintenance configuration for a table
// bucket.
type TableBucketMaintenanceConfigurationValue struct {

	// Contains details about the settings of the maintenance configuration.
	Settings TableBucketMaintenanceSettings

	// The status of the maintenance configuration.
	Status MaintenanceStatus

	noSmithyDocumentSerde
}

// Contains details about the maintenance settings for the table bucket.
//
// The following types satisfy this interface:
//
//	TableBucketMaintenanceSettingsMemberIcebergUnreferencedFileRemoval
type TableBucketMaintenanceSettings interface {
	isTableBucketMaintenanceSettings()
}

// The unreferenced file removal settings for the table bucket.
type TableBucketMaintenanceSettingsMemberIcebergUnreferencedFileRemoval struct {
	Value IcebergUnreferencedFileRemovalSettings

	noSmithyDocumentSerde
}

func (*TableBucketMaintenanceSettingsMemberIcebergUnreferencedFileRemoval) isTableBucketMaintenanceSettings() {
}

// The replication configuration for a table bucket. This configuration defines
// how tables in the source bucket are replicated to destination table buckets,
// including the IAM role used for replication.
type TableBucketReplicationConfiguration struct {

	// The Amazon Resource Name (ARN) of the IAM role that S3 Tables assumes to
	// replicate tables on your behalf.
	//
	// This member is required.
	Role *string

	// An array of replication rules that define which tables to replicate and where
	// to replicate them.
	//
	// This member is required.
	Rules []TableBucketReplicationRule

	noSmithyDocumentSerde
}

// Defines a rule for replicating tables from a source table bucket to one or more
// destination table buckets.
type TableBucketReplicationRule struct {

	// An array of destination table buckets where tables should be replicated.
	//
	// This member is required.
	Destinations []ReplicationDestination

	noSmithyDocumentSerde
}

// Contains details about a table bucket.
type TableBucketSummary struct {

	// The Amazon Resource Name (ARN) of the table bucket.
	//
	// This member is required.
	Arn *string

	// The date and time the table bucket was created at.
	//
	// This member is required.
	CreatedAt *time.Time

	// The name of the table bucket.
	//
	// This member is required.
	Name *string

	// The ID of the account that owns the table bucket.
	//
	// This member is required.
	OwnerAccountId *string

	// The system-assigned unique identifier for the table bucket.
	TableBucketId *string

	// The type of the table bucket.
	Type TableBucketType

	noSmithyDocumentSerde
}

// The values that define a maintenance configuration for a table.
type TableMaintenanceConfigurationValue struct {

	// Contains details about the settings for the maintenance configuration.
	Settings TableMaintenanceSettings

	// The status of the maintenance configuration.
	Status MaintenanceStatus

	noSmithyDocumentSerde
}

// Details about the status of a maintenance job.
type TableMaintenanceJobStatusValue struct {

	// The status of the job.
	//
	// This member is required.
	Status JobStatus

	// The failure message of a failed job.
	FailureMessage *string

	// The date and time that the maintenance job was last run.
	LastRunTimestamp *time.Time

	noSmithyDocumentSerde
}

// Contains details about maintenance settings for the table.
//
// The following types satisfy this interface:
//
//	TableMaintenanceSettingsMemberIcebergCompaction
//	TableMaintenanceSettingsMemberIcebergSnapshotManagement
type TableMaintenanceSettings interface {
	isTableMaintenanceSettings()
}

// Contains details about the Iceberg compaction settings for the table.
type TableMaintenanceSettingsMemberIcebergCompaction struct {
	Value IcebergCompactionSettings

	noSmithyDocumentSerde
}

func (*TableMaintenanceSettingsMemberIcebergCompaction) isTableMaintenanceSettings() {}

// Contains details about the Iceberg snapshot management settings for the table.
type TableMaintenanceSettingsMemberIcebergSnapshotManagement struct {
	Value IcebergSnapshotManagementSettings

	noSmithyDocumentSerde
}

func (*TableMaintenanceSettingsMemberIcebergSnapshotManagement) isTableMaintenanceSettings() {}

// Contains details about the table metadata.
//
// The following types satisfy this interface:
//
//	TableMetadataMemberIceberg
type TableMetadata interface {
	isTableMetadata()
}

// Contains details about the metadata of an Iceberg table.
type TableMetadataMemberIceberg struct {
	Value IcebergMetadata

	noSmithyDocumentSerde
}

func (*TableMetadataMemberIceberg) isTableMetadata() {}

// The expiration configuration settings for records in a table, and the status of
// the configuration. If the status of the configuration is enabled, records expire
// and are automatically removed after the number of days specified in the record
// expiration settings for the table.
type TableRecordExpirationConfigurationValue struct {

	// The expiration settings for records in the table.
	Settings *TableRecordExpirationSettings

	// The status of the expiration settings for records in the table.
	Status TableRecordExpirationStatus

	noSmithyDocumentSerde
}

// Provides metrics for the record expiration job that most recently ran for a
// table. The metrics provide insight into the amount of data that was removed when
// the job ran.
type TableRecordExpirationJobMetrics struct {

	// The total number of data files that were removed when the job ran.
	DeletedDataFiles *int64

	// The total number of records that were removed when the job ran.
	DeletedRecords *int64

	// The total size (in bytes) of the data files that were removed when the job ran.
	RemovedFilesSize *int64

	noSmithyDocumentSerde
}

// The record expiration setting that specifies when records expire and are
// automatically removed from a table.
type TableRecordExpirationSettings struct {

	// If you enable record expiration for a table, you can specify the number of days
	// to retain your table records. For example, to retain your table records for one
	// year, set this value to 365 .
	Days *int32

	noSmithyDocumentSerde
}

// The replication configuration for an individual table. This configuration
// defines how the table is replicated to destination tables.
type TableReplicationConfiguration struct {

	// The Amazon Resource Name (ARN) of the IAM role that S3 Tables assumes to
	// replicate the table on your behalf.
	//
	// This member is required.
	Role *string

	// An array of replication rules that define where this table should be replicated.
	//
	// This member is required.
	Rules []TableReplicationRule

	noSmithyDocumentSerde
}

// Defines a rule for replicating a table to one or more destination tables.
type TableReplicationRule struct {

	// An array of destination table buckets where this table should be replicated.
	//
	// This member is required.
	Destinations []ReplicationDestination

	noSmithyDocumentSerde
}

// Contains details about a table.
type TableSummary struct {

	// The date and time the table was created at.
	//
	// This member is required.
	CreatedAt *time.Time

	// The date and time the table was last modified at.
	//
	// This member is required.
	ModifiedAt *time.Time

	// The name of the table.
	//
	// This member is required.
	Name *string

	// The name of the namespace.
	//
	// This member is required.
	Namespace []string

	// The Amazon Resource Name (ARN) of the table.
	//
	// This member is required.
	TableARN *string

	// The type of the table.
	//
	// This member is required.
	Type TableType

	// The Amazon Web Services service managing this table, if applicable. For
	// example, a replicated table is managed by the S3 Tables replication service.
	ManagedByService *string

	// The unique identifier for the namespace that contains this table.
	NamespaceId *string

	// The unique identifier for the table bucket that contains this table.
	TableBucketId *string

	noSmithyDocumentSerde
}

type noSmithyDocumentSerde = smithydocument.NoSerde

// UnknownUnionMember is returned when a union member is returned over the wire,
// but has an unknown tag.
type UnknownUnionMember struct {
	Tag   string
	Value []byte

	noSmithyDocumentSerde
}

func (*UnknownUnionMember) isTableBucketMaintenanceSettings() {}
func (*UnknownUnionMember) isTableMaintenanceSettings()       {}
func (*UnknownUnionMember) isTableMetadata()                  {}
